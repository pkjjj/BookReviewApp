{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../shared/services/request.service\";\nimport * as i2 from \"../shared/custom-validators/password-confirmation-validator.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/common\";\n\nfunction RegistrationComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵelement(1, \"span\", 22);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"innerHTML\", ctx_r0.errorMessages, i0.ɵɵsanitizeHtml);\n  }\n}\n\nfunction RegistrationComponent_p_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"Please provide a valid email\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegistrationComponent_p_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"Email is required\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegistrationComponent_em_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"em\");\n    i0.ɵɵtext(1, \"Password is required\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegistrationComponent_p_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"Confirmation is required\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegistrationComponent_p_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"Passwords must match\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c0 = function () {\n  return [\"/registration\"];\n};\n\nexport let RegistrationComponent = /*#__PURE__*/(() => {\n  class RegistrationComponent {\n    constructor(requestService, _passConfValidator, _router) {\n      this.requestService = requestService;\n      this._passConfValidator = _passConfValidator;\n      this._router = _router;\n    }\n\n    ngOnInit() {\n      this.registerForm = new FormGroup({\n        name: new FormControl(''),\n        email: new FormControl('', [Validators.required, Validators.email]),\n        password: new FormControl('', [Validators.required]),\n        confirmPassword: new FormControl('')\n      });\n      this.registerForm.get('confirmPassword').setValidators([Validators.required, this._passConfValidator.validateConfirmPassword(this.registerForm.get('password'))]);\n    }\n\n    validateControl(controlName) {\n      return this.registerForm.controls[controlName].invalid && this.registerForm.controls[controlName].touched;\n    }\n\n    hasError(controlName, errorName) {\n      return this.registerForm.controls[controlName].hasError(errorName);\n    }\n\n    registerUser(registerFormValue) {\n      this.showError = false;\n      const formValues = Object.assign({}, registerFormValue);\n      const user = {\n        name: formValues.name,\n        email: formValues.email,\n        password: formValues.password,\n        confirmPassword: formValues.confirmPassword\n      };\n      this.requestService.registerUser(user).subscribe(_ => {\n        this._router.navigate([\"/login\"]);\n      }, error => {\n        this.errorMessages = error;\n        this.showError = true;\n      });\n    }\n\n  }\n\n  RegistrationComponent.ɵfac = function RegistrationComponent_Factory(t) {\n    return new (t || RegistrationComponent)(i0.ɵɵdirectiveInject(i1.RequestService), i0.ɵɵdirectiveInject(i2.PasswordConfirmationValidatorService), i0.ɵɵdirectiveInject(i3.Router));\n  };\n\n  RegistrationComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RegistrationComponent,\n    selectors: [[\"app-registration\"]],\n    decls: 34,\n    vars: 10,\n    consts: [[1, \"vh-100\"], [1, \"container-fluid\", \"h-custom\"], [1, \"row\", \"d-flex\", \"justify-content-center\", \"align-items-center\", \"h-100\"], [1, \"col-md-8\", \"col-lg-6\", \"col-xl-3\", \"offset-xl-1\"], [\"autocomplete\", \"off\", \"novalidate\", \"\", 3, \"formGroup\", \"ngSubmit\"], [1, \"text-center\", \"lead\", \"fw-normal\", \"mb-0\", \"me-3\"], [1, \"divider\", \"d-flex\", \"align-items-center\", \"my-4\"], [\"class\", \"alert alert-danger\", \"role\", \"alert\", 4, \"ngIf\"], [1, \"form-outline\", \"mb-4\"], [\"type\", \"text\", \"id\", \"formName\", \"formControlName\", \"name\", \"placeholder\", \"Enter name\", 1, \"form-control\", \"form-control-lg\"], [\"type\", \"email\", \"id\", \"formEmail\", \"formControlName\", \"email\", \"placeholder\", \"Enter a valid email address\", 1, \"form-control\", \"form-control-lg\"], [1, \"col-md-5\"], [4, \"ngIf\"], [1, \"form-outline\", \"mb-3\"], [\"type\", \"password\", \"id\", \"formPassword\", \"formControlName\", \"password\", \"placeholder\", \"Enter password\", 1, \"form-control\", \"form-control-lg\"], [\"type\", \"password\", \"id\", \"formSecondPassword\", \"formControlName\", \"confirmPassword\", \"placeholder\", \"Repeat password\", 1, \"form-control\", \"form-control-lg\"], [1, \"text-lg-start\", \"mt-4\", \"pt-2\"], [1, \"d-flex\", \"justify-content-center\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"btn-lg\", 2, \"padding-left\", \"2.5rem\", \"padding-right\", \"2.5rem\", 3, \"disabled\"], [1, \"text-center\", \"h-4\", \"fw-bold\", \"mt-2\", \"pt-1\", \"mb-0\"], [\"href\", \"#!\", \"routerLink\", \"/login\", 1, \"h-4\", 3, \"routerLink\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\"], [3, \"innerHTML\"]],\n    template: function RegistrationComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵelementStart(4, \"form\", 4);\n        i0.ɵɵlistener(\"ngSubmit\", function RegistrationComponent_Template_form_ngSubmit_4_listener() {\n          return ctx.registerUser(ctx.registerForm.value);\n        });\n        i0.ɵɵelementStart(5, \"div\");\n        i0.ɵɵelementStart(6, \"p\", 5);\n        i0.ɵɵtext(7, \"Sign up\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(8, \"div\", 6);\n        i0.ɵɵtemplate(9, RegistrationComponent_div_9_Template, 2, 1, \"div\", 7);\n        i0.ɵɵelementStart(10, \"div\", 8);\n        i0.ɵɵelement(11, \"input\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"div\", 8);\n        i0.ɵɵelement(13, \"input\", 10);\n        i0.ɵɵelementStart(14, \"div\", 11);\n        i0.ɵɵtemplate(15, RegistrationComponent_p_15_Template, 2, 0, \"p\", 12);\n        i0.ɵɵtemplate(16, RegistrationComponent_p_16_Template, 2, 0, \"p\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\", 13);\n        i0.ɵɵelement(18, \"input\", 14);\n        i0.ɵɵelementStart(19, \"div\", 11);\n        i0.ɵɵtemplate(20, RegistrationComponent_em_20_Template, 2, 0, \"em\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"div\", 13);\n        i0.ɵɵelement(22, \"input\", 15);\n        i0.ɵɵelementStart(23, \"div\", 11);\n        i0.ɵɵtemplate(24, RegistrationComponent_p_24_Template, 2, 0, \"p\", 12);\n        i0.ɵɵtemplate(25, RegistrationComponent_p_25_Template, 2, 0, \"p\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"div\", 16);\n        i0.ɵɵelementStart(27, \"div\", 17);\n        i0.ɵɵelementStart(28, \"button\", 18);\n        i0.ɵɵtext(29, \"Register\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"p\", 19);\n        i0.ɵɵtext(31, \"Have already an account? \");\n        i0.ɵɵelementStart(32, \"a\", 20);\n        i0.ɵɵtext(33, \"Login here\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"formGroup\", ctx.registerForm);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.showError);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.validateControl(\"email\") && ctx.hasError(\"email\", \"email\"));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.validateControl(\"email\") && ctx.hasError(\"email\", \"required\"));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.validateControl(\"password\") && ctx.hasError(\"password\", \"required\"));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.validateControl(\"confirmPassword\") && ctx.hasError(\"confirmPassword\", \"required\"));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.hasError(\"confirmPassword\", \"mustMatch\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"disabled\", !ctx.registerForm.valid);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(9, _c0));\n      }\n    },\n    directives: [i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.FormGroupDirective, i5.NgIf, i4.DefaultValueAccessor, i4.NgControlStatus, i4.FormControlName, i3.RouterLinkWithHref],\n    styles: [\".divider[_ngcontent-%COMP%]:after, .divider[_ngcontent-%COMP%]:before{content:\\\"\\\";flex:1;height:1px;background:#eee}.h-custom[_ngcontent-%COMP%]{height:calc(100% - 73px)}.center[_ngcontent-%COMP%]{position:absolute;bottom:50%}@media (max-width: 450px){.h-custom[_ngcontent-%COMP%]{height:100%}}\"]\n  });\n  return RegistrationComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}